
<!-- Code highlighted by https://pinetools.com/syntax-highlighter -->

<pre class="hljs" style="color: rgb(77, 77, 76); font-size:15; margin: 15px;"><span class="hljs-comment" style="color: rgb(142, 144, 140);">// State change event listener</span>
<span class="hljs-keyword" style="color: rgb(137, 89, 168);">const</span> backDropBackground4 = <span class="hljs-keyword" style="color: rgb(137, 89, 168);">new</span> BackDropBackground(<span class="hljs-string" style="color: rgb(113, 140, 0);">'BackDropParent4'</span>);
backDropBackground4.setBackgroundColor(<span class="hljs-string" style="color: rgb(113, 140, 0);">"#d3ffb5"</span>);

<span class="hljs-comment" style="color: rgb(142, 144, 140);">// Create a new BackDropElement</span>
<span class="hljs-keyword" style="color: rgb(137, 89, 168);">const</span> eventSun = <span class="hljs-keyword" style="color: rgb(137, 89, 168);">new</span> BackDropElement({
	id: <span class="hljs-string" style="color: rgb(113, 140, 0);">'eventSun'</span>,
	curr_state: <span class="hljs-string" style="color: rgb(113, 140, 0);">'left'</span>,
	src: <span class="hljs-string" style="color: rgb(113, 140, 0);">'res/sun.png'</span>,
	x_pos: <span class="hljs-number" style="color: rgb(245, 135, 31);">0</span>,
	y_pos: backDropBackground2.getHeight()*<span class="hljs-number" style="color: rgb(245, 135, 31);">0.2</span>,
	width: <span class="hljs-string" style="color: rgb(113, 140, 0);">"250px"</span>,
	height: <span class="hljs-string" style="color: rgb(113, 140, 0);">"250px"</span>,
	x_scale: <span class="hljs-number" style="color: rgb(245, 135, 31);">1</span>,
	y_scale: <span class="hljs-number" style="color: rgb(245, 135, 31);">1</span>,
	opacity: <span class="hljs-number" style="color: rgb(245, 135, 31);">1</span>
});

<span class="hljs-comment" style="color: rgb(142, 144, 140);">// Create transitions for eventSun</span>
<span class="hljs-keyword" style="color: rgb(137, 89, 168);">const</span> sunLeftToRight = <span class="hljs-keyword" style="color: rgb(137, 89, 168);">new</span> BackDropStateTransition({
	transition_id: <span class="hljs-string" style="color: rgb(113, 140, 0);">'sunLeftToRight'</span>, 
	old_state: <span class="hljs-string" style="color: rgb(113, 140, 0);">'left'</span>, 
	new_state: <span class="hljs-string" style="color: rgb(113, 140, 0);">'right'</span>,
	new_x_pos: backDropBackground2.getWidth()*<span class="hljs-number" style="color: rgb(245, 135, 31);">0.75</span>,
	trigger_ids: [<span class="hljs-string" style="color: rgb(113, 140, 0);">"eventSun"</span>]
});

<span class="hljs-keyword" style="color: rgb(137, 89, 168);">const</span> sunRightToLeft = <span class="hljs-keyword" style="color: rgb(137, 89, 168);">new</span> BackDropStateTransition({
	transition_id: <span class="hljs-string" style="color: rgb(113, 140, 0);">'sunRightToLeft'</span>, 
	old_state: <span class="hljs-string" style="color: rgb(113, 140, 0);">'right'</span>, 
	new_state: <span class="hljs-string" style="color: rgb(113, 140, 0);">'left'</span>, 
	new_x_pos: <span class="hljs-number" style="color: rgb(245, 135, 31);">0</span>,
	trigger_ids: [<span class="hljs-string" style="color: rgb(113, 140, 0);">"eventSun"</span>]
});

eventSun.addStateTransition(sunLeftToRight);
eventSun.addStateTransition(sunRightToLeft);

<span class="hljs-comment" style="color: rgb(142, 144, 140);">// Adds the elements to the background</span>
backDropBackground4.addElement(eventSun)

<span class="hljs-comment" style="color: rgb(142, 144, 140);">// Add an eventListener for the background, waiting for the event 'backDropStateChange'</span>
<span class="hljs-built_in" style="color: rgb(245, 135, 31);">document</span>.getElementById(<span class="hljs-string" style="color: rgb(113, 140, 0);">'BackDropParent4'</span>).addEventListener(<span class="hljs-string" style="color: rgb(113, 140, 0);">"backDropStateChange"</span>, <span class="hljs-function"><span class="hljs-keyword" style="color: rgb(137, 89, 168);">function</span>(<span class="hljs-params" style="color: rgb(245, 135, 31);">e</span>) </span>{
	
	<span class="hljs-keyword" style="color: rgb(137, 89, 168);">if</span>(e.detail.new_state === <span class="hljs-string" style="color: rgb(113, 140, 0);">"left"</span>) {
		<span class="hljs-built_in" style="color: rgb(245, 135, 31);">document</span>.getElementById(<span class="hljs-string" style="color: rgb(113, 140, 0);">"eventDiv"</span>).innerHTML = <span class="hljs-string" style="color: rgb(113, 140, 0);">"left"</span>;
	}
	<span class="hljs-keyword" style="color: rgb(137, 89, 168);">else</span> <span class="hljs-keyword" style="color: rgb(137, 89, 168);">if</span>(e.detail.new_state === <span class="hljs-string" style="color: rgb(113, 140, 0);">"right"</span>) {
		<span class="hljs-built_in" style="color: rgb(245, 135, 31);">document</span>.getElementById(<span class="hljs-string" style="color: rgb(113, 140, 0);">"eventDiv"</span>).innerHTML = <span class="hljs-string" style="color: rgb(113, 140, 0);">"right"</span>;
	}
})</pre>